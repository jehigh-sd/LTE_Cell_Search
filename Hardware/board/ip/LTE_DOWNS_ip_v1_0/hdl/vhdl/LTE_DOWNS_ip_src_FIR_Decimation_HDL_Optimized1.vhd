-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj\hdlsrc\zynqRadioHWSWLTEDecimatorRFSoC2x2\LTE_DOWNS_ip_src_FIR_Decimation_HDL_Optimized1.vhd
-- Created: 2022-05-25 15:55:22
-- 
-- Generated by MATLAB 9.12 and HDL Coder 3.20
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: LTE_DOWNS_ip_src_FIR_Decimation_HDL_Optimized1
-- Source Path: zynqRadioHWSWLTEDecimatorRFSoC2x2/LTE_DOWNSAMPLE_HDL/DOWNSAMPLE/Vector Decimator/Decimation/FIR Decimation 
-- HDL Optimized
-- Hierarchy Level: 4
-- 
-- HDL FIR Decimation
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY LTE_DOWNS_ip_src_FIR_Decimation_HDL_Optimized1 IS
  PORT( clk                               :   IN    std_logic;
        reset_x                           :   IN    std_logic;
        enb                               :   IN    std_logic;
        dataIn_re_0                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_re_1                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_re_2                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_re_3                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_re_4                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_re_5                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_re_6                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_re_7                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_im_0                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_im_1                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_im_2                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_im_3                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_im_4                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_im_5                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_im_6                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataIn_im_7                       :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        validIn                           :   IN    std_logic;
        dataOut_re                        :   OUT   std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        dataOut_im                        :   OUT   std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
        validOut                          :   OUT   std_logic
        );
END LTE_DOWNS_ip_src_FIR_Decimation_HDL_Optimized1;


ARCHITECTURE rtl OF LTE_DOWNS_ip_src_FIR_Decimation_HDL_Optimized1 IS

  -- Component Declarations
  COMPONENT LTE_DOWNS_ip_src_FilterBank
    PORT( clk                             :   IN    std_logic;
          reset_x                         :   IN    std_logic;
          enb                             :   IN    std_logic;
          filterIn_re_0                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_re_1                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_re_2                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_re_3                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_re_4                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_re_5                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_re_6                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_re_7                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_im_0                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_im_1                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_im_2                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_im_3                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_im_4                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_im_5                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_im_6                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          filterIn_im_7                   :   IN    std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          validIn                         :   IN    std_logic;
          filterOut_re_0                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_1                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_2                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_3                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_4                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_5                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_6                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_7                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_0                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_1                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_2                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_3                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_4                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_5                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_6                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_7                  :   OUT   std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_vld                   :   OUT   std_logic
          );
  END COMPONENT;

  COMPONENT LTE_DOWNS_ip_src_sumTree
    PORT( clk                             :   IN    std_logic;
          reset_x                         :   IN    std_logic;
          enb                             :   IN    std_logic;
          filterOut_re_0                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_1                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_2                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_3                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_4                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_5                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_6                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_re_7                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_0                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_1                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_2                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_3                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_4                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_5                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_6                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_im_7                  :   IN    std_logic_vector(32 DOWNTO 0);  -- sfix33_En31
          filterOut_vld                   :   IN    std_logic;
          dataOut_re                      :   OUT   std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          dataOut_im                      :   OUT   std_logic_vector(15 DOWNTO 0);  -- sfix16_En15
          validOut                        :   OUT   std_logic
          );
  END COMPONENT;

  -- Component Configuration Statements
  FOR ALL : LTE_DOWNS_ip_src_FilterBank
    USE ENTITY work.LTE_DOWNS_ip_src_FilterBank(rtl);

  FOR ALL : LTE_DOWNS_ip_src_sumTree
    USE ENTITY work.LTE_DOWNS_ip_src_sumTree(rtl);

  -- Signals
  SIGNAL filterOut_re_0                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_re_1                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_re_2                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_re_3                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_re_4                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_re_5                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_re_6                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_re_7                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_im_0                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_im_1                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_im_2                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_im_3                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_im_4                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_im_5                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_im_6                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_im_7                   : std_logic_vector(32 DOWNTO 0);  -- ufix33
  SIGNAL filterOut_vld                    : std_logic;
  SIGNAL dataOut_re_tmp                   : std_logic_vector(15 DOWNTO 0);  -- ufix16
  SIGNAL dataOut_im_tmp                   : std_logic_vector(15 DOWNTO 0);  -- ufix16

BEGIN
  u_FilterBank : LTE_DOWNS_ip_src_FilterBank
    PORT MAP( clk => clk,
              reset_x => reset_x,
              enb => enb,
              filterIn_re_0 => dataIn_re_0,  -- sfix16_En15
              filterIn_re_1 => dataIn_re_1,  -- sfix16_En15
              filterIn_re_2 => dataIn_re_2,  -- sfix16_En15
              filterIn_re_3 => dataIn_re_3,  -- sfix16_En15
              filterIn_re_4 => dataIn_re_4,  -- sfix16_En15
              filterIn_re_5 => dataIn_re_5,  -- sfix16_En15
              filterIn_re_6 => dataIn_re_6,  -- sfix16_En15
              filterIn_re_7 => dataIn_re_7,  -- sfix16_En15
              filterIn_im_0 => dataIn_im_0,  -- sfix16_En15
              filterIn_im_1 => dataIn_im_1,  -- sfix16_En15
              filterIn_im_2 => dataIn_im_2,  -- sfix16_En15
              filterIn_im_3 => dataIn_im_3,  -- sfix16_En15
              filterIn_im_4 => dataIn_im_4,  -- sfix16_En15
              filterIn_im_5 => dataIn_im_5,  -- sfix16_En15
              filterIn_im_6 => dataIn_im_6,  -- sfix16_En15
              filterIn_im_7 => dataIn_im_7,  -- sfix16_En15
              validIn => validIn,
              filterOut_re_0 => filterOut_re_0,  -- sfix33_En31
              filterOut_re_1 => filterOut_re_1,  -- sfix33_En31
              filterOut_re_2 => filterOut_re_2,  -- sfix33_En31
              filterOut_re_3 => filterOut_re_3,  -- sfix33_En31
              filterOut_re_4 => filterOut_re_4,  -- sfix33_En31
              filterOut_re_5 => filterOut_re_5,  -- sfix33_En31
              filterOut_re_6 => filterOut_re_6,  -- sfix33_En31
              filterOut_re_7 => filterOut_re_7,  -- sfix33_En31
              filterOut_im_0 => filterOut_im_0,  -- sfix33_En31
              filterOut_im_1 => filterOut_im_1,  -- sfix33_En31
              filterOut_im_2 => filterOut_im_2,  -- sfix33_En31
              filterOut_im_3 => filterOut_im_3,  -- sfix33_En31
              filterOut_im_4 => filterOut_im_4,  -- sfix33_En31
              filterOut_im_5 => filterOut_im_5,  -- sfix33_En31
              filterOut_im_6 => filterOut_im_6,  -- sfix33_En31
              filterOut_im_7 => filterOut_im_7,  -- sfix33_En31
              filterOut_vld => filterOut_vld
              );

  u_FirDecimAcc : LTE_DOWNS_ip_src_sumTree
    PORT MAP( clk => clk,
              reset_x => reset_x,
              enb => enb,
              filterOut_re_0 => filterOut_re_0,  -- sfix33_En31
              filterOut_re_1 => filterOut_re_1,  -- sfix33_En31
              filterOut_re_2 => filterOut_re_2,  -- sfix33_En31
              filterOut_re_3 => filterOut_re_3,  -- sfix33_En31
              filterOut_re_4 => filterOut_re_4,  -- sfix33_En31
              filterOut_re_5 => filterOut_re_5,  -- sfix33_En31
              filterOut_re_6 => filterOut_re_6,  -- sfix33_En31
              filterOut_re_7 => filterOut_re_7,  -- sfix33_En31
              filterOut_im_0 => filterOut_im_0,  -- sfix33_En31
              filterOut_im_1 => filterOut_im_1,  -- sfix33_En31
              filterOut_im_2 => filterOut_im_2,  -- sfix33_En31
              filterOut_im_3 => filterOut_im_3,  -- sfix33_En31
              filterOut_im_4 => filterOut_im_4,  -- sfix33_En31
              filterOut_im_5 => filterOut_im_5,  -- sfix33_En31
              filterOut_im_6 => filterOut_im_6,  -- sfix33_En31
              filterOut_im_7 => filterOut_im_7,  -- sfix33_En31
              filterOut_vld => filterOut_vld,
              dataOut_re => dataOut_re_tmp,  -- sfix16_En15
              dataOut_im => dataOut_im_tmp,  -- sfix16_En15
              validOut => validOut
              );

  dataOut_re <= dataOut_re_tmp;

  dataOut_im <= dataOut_im_tmp;

END rtl;

